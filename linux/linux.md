###### Linux

- 类 Unix 系统,Linux 是一种自由的,开放源码的类 Unix 操作系统
- Linux 本质是指 Linux 内核,单独的 Linux 不能成为一个正常工作的操作系统

###### Linux 文件系统

- 在 Linux 操作系统中,一切被操作系统管理的资源都叫文件.如:网络接口卡,磁盘驱动器,打印机,输入输出设备,普通文件以及目录,这种观念源自于 UNIX 哲学.即将所有的文件抽象成文件的方式来进行管理和扩展
- inodo 是 Linux/Unix 文件系统的基础

  - 硬盘的最小存储单位是 `扇区Sector`,`块block`由多个 `扇区Sector`组成.块最常见的大小是 4kb,为八个连续的扇区组成,每一个扇区 512b.一个文件可以占用多个 block,但是每个 block 只能存放一个文件.文件的内容存储在块中,我们还需要一个空间来记录文件的元信息,比如这个文件被分成了几块,每个 block 的地址,创建时间,权限等信息,存储文件元信息的区域叫 inode,每一个文件的 inode 都是独一无二的
  - inode 是固定大小的数据结构,大小在文件系统被创建的时候就确定了,并且在文件的生命周期内保持不变
  - inode 访问速度很快,系统可以通过 inode 定位到文件的元信息
  - 可以使用 `stat` 来查看文件的 inode 信息

- 软链接和硬链接

  - 在 Linux/Unix 系统中文件链接是一种特殊的文件类型,可以在文件系统中指向另一个文件
  - 硬链接 :每一个文件都有唯一的索引 inode 来标识文件或者目录,
    - 硬链接通过 inode 来建立连接,硬链接和源文件的 inode 是完全一样的,对于文件系统而言,两个是完全一样的
    - 只有删除了源文件和所有的硬链接文件,该文件才会被真正的删除
    - 硬链接不能对目录以及不存在的文件创建链接,并且不能跨越系统(因为每个文件系统都有自己独立的 inode 表,每个 inode 表只维护该文件系统的 inode,跨文件系统硬链接会导致 inode 节点冲突)
  - 软链接:
    - 软链接和源文件的 inode 节点是不同的,而是指向一个文件路径
    - 源文件删除后,硬链接依然存在,软链接则是指向一个无效的路径
    - 软链接可以对目录以及不存在的文件创建软链接,可以跨越文件系统

- Linux 文件类型

  - 普通文件 (-) Linux 用户可以根据自己的权限对文件进行增删改查
  - 目录文件 (d, directory, file) 管理系统中的文件
  - 链接文件 (l, symbolic link) 指向链接文件的地址
  - 设备文件 (b, block) 用来访问设备
  - 管道文件 (p, pipe) 用于进程之间的通信
  - Socket 套接字文件 (s, socket) 进程间的网络通信

- Linux 文件目录树

  - /bin:存放二进制可执行的文件,如 cat,ls mkdir 等常用命令
  - /etc:存放系统管理和配置文件
  - /home:存放所有用户文件的根目录,比如用户 user 的目录就是/home/user
  - /usr:存放系统应用程序
  - /opt:额外安装的可选应用程序包所放置的位置
  - /proc:虚拟文件的系统目录
  - /root:超级用户的住目录
  - /sbin:存放二进制可执行文件,只有 root 可以访问
  - /dev:存放设备文件
  - /mnt:系统管理员安装临时文件系统的安装点
  - /boot:存放系统引导时使用的文件
  - /lib:存放系统运行相关的库文件
  - /tmp:存放各种临时文件
  - /var:存放时需要改变数据的文件

- Linux 常用命令

  - 目录切换
    - `cd ..`:切换到上一层
    - `cd /`:切换到系统根目录
    - `cd ~`:切换到用户主目录
    - `cd -`:切换到上一个操作的所在目录
  - 目录操作
    - `ls`:显示目录中文件和子目录的列表
    - `ll`:`ls -l`的别名,查看目录和文件的详细信息
    - `mkdir [option] 目录名`:创建新的目录
    - `pwd`:显示当前工作路径的目录
    - `rmdir [option] 目录名`:删除空目录
    - `rm [option] 目录或文件`:删除文件/目录
    - `cp [option] 源文件 目标文件`:复制文件或者目录
    - `mv [option] 源文件 目标文件`:移动文件或者目录
  - 文件操作
    - `touch [option] 文件名`:创建新文件或者更新文件
    - `in [option]<源文件><链接文件>`:创建软硬链接
    - `cat/more/less/tail`:文件的查看
    - `vim 文件名字`:修改文件的内容,i 进入编辑模式,esc 进入底行模式,:wq 保存并退出
  - 文件压缩
    - `tar -zcvf 打包压缩之后的文件名 要打包压缩的文件`:z 代表启用 gzip,c 代表打包文件,v 代表显示运行过程,f 代表指定文件名
    - `tar -x 压缩文件`:x 代表解压

- 文件传输

  - `scp [option] 源文件 远程文件`:为安全复制,通过 ssh 协议进行安全的文件传输,实现本地到远程服务器的上传和远程主机到本地的下载,例如 `scp -r my_directory user@remote:/home/user` 和 `scp -r user@remote:/home/user/my_directory`
  - `rsync [option] 源文件 远程文件`:在本地和远程之间进行高效的文件复制,`rsync -r my_directory user@remote:/home/user`

- 文件权限

  - Linux 权限分为读(readable),写(writeable),执行(excutable),分别对应文件的属主权限,属组权限,其他用户权限
  - `chmod`:修改文件,目录的权限,`chmod u=rwx,g=rw,o=r test.txt`

- 系统状态

  - `top[option]`:实时查看系统的 CPU 使用率,内存使用率,进程信息
  - `htop[option]`:类似于 top
  - `uptime[option]`:查看系统总共运行了多久,平均的负载信息
  - `vmstat[option]`:展示关于进程,内存,IO 等系统整体的运行状态
  - `free[option]`:查看系统内存的使用情况
  - `df[option][文件系统]`:查看系统磁盘空间的使用情况,包括磁盘空间的使用情况
  - `ps[option]`:查看系统中的进程信息,包括进程的 id.状态等.`ps-ef/ps-aux`查看系统正在运行的进程

- 网络通信

  - `ping`:测试与目标主机的网络链接
  - `ifconfig/ip`:查看系统网络接口信息
  - `ss`:查看系统的网络连接状态和网络统计信息，可以查看当前的网络连接情况、监听端口、网络协议

- 其他

  - `sudo + 其他命令`: 以系统管理者的身份执行
  - `grep 要搜索的内容 -- color`: 搜索命令，--color 代表高亮显示
  - `kill -9 [pid]`:用 ps 找进程,再用这条命令杀掉

- 环境变量

  - 用户级别的环境变量:`~/.bashrc`,`~/.bash_profile`
  - 系统级别的环境变量:`/etc/bashrc`,`/etc/environment`,`/etc/profile`,`/etc/profile.d`
  - 永久的环境变量:需要用户修改相关的配置文件
  - 临时的环境变量:用户利用 export,在当前的终端声明环境变量,关闭终端就失效
  - 修改完环境变量需要 source 让其生效或重新打开终端
